{"mappings":"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","sources":["index.ts"],"sourcesContent":["const board = document.querySelector(\".game-container\") as HTMLElement;\r\nconst button = document.querySelector(\".btn\") as HTMLElement;\r\nconst winMessage = document.querySelector(\".winner\") as HTMLElement;\r\n\r\ntype Turn = \"X\" | \"O\" | \"\";\r\n\r\nlet turn: Turn = \"X\";\r\n\r\nfunction listenBoard(): void {\r\n  board.addEventListener(\"click\", runGame);\r\n}\r\n\r\nfunction main(): void {\r\n  createBoard();\r\n  listenBoard();\r\n}\r\n\r\nfunction runGame(e: Event): void {\r\n  const target = e.target as HTMLElement;\r\n\r\n  // Ensure that the clicked element is a box and has a valid id\r\n  if (!target || !target.id.startsWith(\"box-\")) return;\r\n\r\n  const box: HTMLElement | null = document.querySelector(`#${target.id}`); // This is to obtain the id of the specific box clicked.\r\n  if (box === null || box.textContent !== \"\") return;\r\n\r\n  box.textContent = turn;\r\n  changeBoxBackground(box);\r\n  const winner: boolean = checkWinner();\r\n\r\n  //The reason for the switch to work perfectly and not change if box clicked twice is because this is called after all of the box checks.\r\n  //It won't switch the player when clicked on the box again.\r\n  if (!winner) {\r\n    switchPlayer();\r\n  } else {\r\n    endGame();\r\n  }\r\n}\r\n\r\nfunction changeBoxBackground(box: HTMLElement): void {\r\n  if (turn === \"X\") {\r\n    box.classList.replace(\"box\", \"x\");\r\n  } else {\r\n    box.classList.replace(\"box\", \"o\");\r\n  }\r\n}\r\n\r\n/* CODE FROM TUTORIAL THAT SHOWED ERROR\r\nfunction runGame(e: Event): void {\r\n  const boxId: string | null = (<HTMLElement>e.target).id;\r\n  if (boxId === null) return;\r\n  const box: HTMLElement | null = document.querySelector(`#${boxId}`);\r\n  if (box === null || box.textContent !== \"\") return;\r\n  box.textContent = turn;\r\n  const winner: boolean = checkWinner();\r\n\r\n  if (!winner) {\r\n    switchPlayer();\r\n  } else {\r\n    endGame();\r\n  }\r\n}\r\n*/\r\n\r\nfunction endGame(): void {\r\n  board.removeEventListener(\"click\", runGame);\r\n  button.addEventListener(\"click\", resetGame);\r\n  if (winMessage === null) return;\r\n  winMessage.textContent = `Winner is ${turn}!!!`;\r\n  winMessage.setAttribute(\"display\", \"block\");\r\n  button.style.visibility = \"visible\";\r\n}\r\n\r\nfunction resetGame(): void {\r\n  turn = \"X\";\r\n  resetBoxes();\r\n  button.style.visibility = \"hidden\";\r\n  winMessage.textContent = \"\";\r\n  board.addEventListener(\"click\", runGame);\r\n}\r\n\r\nfunction resetBoxes(): void {\r\n  for (let i = 0; i <= 8; i++) {\r\n    const box = document.querySelector(`#box-${i}`) as HTMLElement;\r\n    box.textContent = \"\";\r\n    //resetting animation\r\n  }\r\n}\r\n\r\nfunction checkWinner(): boolean {\r\n  const boxes: Array<string> = getBoxes();\r\n  return (\r\n    (boxes[0] === boxes[1] && boxes[1] === boxes[2] && boxes[0] !== \"\") ||\r\n    (boxes[3] === boxes[4] && boxes[4] === boxes[5] && boxes[3] !== \"\") ||\r\n    (boxes[6] === boxes[7] && boxes[7] === boxes[8] && boxes[6] !== \"\") ||\r\n    (boxes[0] === boxes[4] && boxes[4] === boxes[8] && boxes[0] !== \"\") ||\r\n    (boxes[2] === boxes[4] && boxes[4] === boxes[6] && boxes[2] !== \"\") ||\r\n    (boxes[1] === boxes[4] && boxes[4] === boxes[7] && boxes[1] !== \"\") ||\r\n    (boxes[0] === boxes[3] && boxes[3] === boxes[6] && boxes[0] !== \"\") ||\r\n    (boxes[2] === boxes[5] && boxes[5] === boxes[8] && boxes[2] !== \"\")\r\n  );\r\n}\r\n\r\nfunction getBoxes(): Array<string> {\r\n  const boxesContent: Array<string> = [];\r\n  for (let i = 0; i < 9; i++) {\r\n    const box = document.querySelector(`#box-${i}`) as HTMLElement;\r\n    const boxContent: string | null = box.textContent;\r\n    if (boxContent === null) {\r\n      boxesContent.push(\"\");\r\n    } else {\r\n      boxesContent.push(boxContent);\r\n    }\r\n  }\r\n  return boxesContent;\r\n}\r\n\r\nfunction switchPlayer(): void {\r\n  if (turn === \"X\") {\r\n    turn = \"O\";\r\n  } else {\r\n    turn = \"X\";\r\n  }\r\n}\r\n\r\nfunction createBoard(): void {\r\n  for (let i = 0; i < 9; i++) makeBox(i);\r\n}\r\n\r\nfunction makeBox(i: number): void {\r\n  //creating the first box\r\n  const box: HTMLDivElement = document.createElement(\"div\");\r\n  box.className = \"box\";\r\n  box.id = `box-${i}`; //creating a different id for each box created in the for loop.\r\n  box.textContent = \"\";\r\n  board.append(box);\r\n}\r\n\r\nmain();\r\n"],"names":[],"version":3,"file":"index.242b51c6.js.map","sourceRoot":"/__parcel_source_root/"}